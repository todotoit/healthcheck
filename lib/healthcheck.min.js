!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("no-cov-later")):"function"==typeof define&&define.amd?define("healthcheck",["no-cov-later"],t):"object"==typeof exports?exports.healthcheck=t(require("no-cov-later")):e.healthcheck=t(e.later)}("undefined"!=typeof self?self:this,(function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=r(1))&&n.__esModule?n:{default:n};function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var c={interval:3600,autorun:!0,callback:!1,method:"GET",fail:"/fail"},l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},c,{},t),!1!==this.options.autorun&&this.start()}var t,r,n;return t=e,(r=[{key:"check",value:function(){this.request(this.options.url,this.options.callback)}},{key:"error",value:function(){var e=this.options.fail.indexOf("://")>-1?this.options.fail:this.options.url+this.options.fail;this.request(e)}},{key:"stop",value:function(){this.timer.clear()}},{key:"start",value:function(){var e,t=this;e=isNaN(this.options.interval)?o.default.parse.text(this.options.interval):o.default.parse.recur().every(this.options.interval).second(),this.timer=o.default.setInterval((function(){return t.check()}),e)}},{key:"request",value:function(e,t){var r=new XMLHttpRequest;r.onreadystatechange=function(){4===r.readyState&&200===r.status&&t&&this.callback(r.responseText)},r.open("GET",e,!0),r.send(null)}}])&&a(t.prototype,r),n&&a(t,n),e}();t.default=l,e.exports=t.default},function(t,r){t.exports=e}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWFsdGhjaGVjay93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vaGVhbHRoY2hlY2svd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vaGVhbHRoY2hlY2svLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vaGVhbHRoY2hlY2svZXh0ZXJuYWwge1wiY29tbW9uanNcIjpcIm5vLWNvdi1sYXRlclwiLFwiY29tbW9uanMyXCI6XCJuby1jb3YtbGF0ZXJcIixcImFtZFwiOlwibm8tY292LWxhdGVyXCIsXCJyb290XCI6XCJsYXRlclwifSJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJyZXF1aXJlIiwiZGVmaW5lIiwiYW1kIiwic2VsZiIsInRoaXMiLCJfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX18xX18iLCJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiZGVmYXVsdHMiLCJpbnRlcnZhbCIsImF1dG9ydW4iLCJjYWxsYmFjayIsIm1ldGhvZCIsImZhaWwiLCJIZWFsdGhDaGVjayIsIm9wdGlvbnMiLCJzdGFydCIsInJlcXVlc3QiLCJ1cmwiLCJpbmRleE9mIiwidGltZXIiLCJjbGVhciIsImlzTmFOIiwicGFyc2UiLCJ0ZXh0IiwicmVjdXIiLCJldmVyeSIsInNlY29uZCIsInNldEludGVydmFsIiwiY2hlY2siLCJYTUxIdHRwUmVxdWVzdCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJzdGF0dXMiLCJyZXNwb25zZVRleHQiLCJvcGVuIiwic2VuZCJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBMkNBLEVBQU1DLEdBQzFCLGlCQUFaQyxTQUEwQyxpQkFBWEMsT0FDeENBLE9BQU9ELFFBQVVELEVBQVFHLFFBQVEsaUJBQ1IsbUJBQVhDLFFBQXlCQSxPQUFPQyxJQUM5Q0QsT0FBTyxjQUFlLENBQUMsZ0JBQWlCSixHQUNkLGlCQUFaQyxRQUNkQSxRQUFxQixZQUFJRCxFQUFRRyxRQUFRLGlCQUV6Q0osRUFBa0IsWUFBSUMsRUFBUUQsRUFBWSxPQVI1QyxDQVNtQixvQkFBVE8sS0FBdUJBLEtBQU9DLE1BQU0sU0FBU0MsR0FDdkQsTyxZQ1RFLElBQUlDLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVWLFFBR25DLElBQUlDLEVBQVNPLEVBQWlCRSxHQUFZLENBQ3pDQyxFQUFHRCxFQUNIRSxHQUFHLEVBQ0haLFFBQVMsSUFVVixPQU5BYSxFQUFRSCxHQUFVSSxLQUFLYixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTUyxHQUcvRFIsRUFBT1csR0FBSSxFQUdKWCxFQUFPRCxRQTBEZixPQXJEQVMsRUFBb0JNLEVBQUlGLEVBR3hCSixFQUFvQk8sRUFBSVIsRUFHeEJDLEVBQW9CUSxFQUFJLFNBQVNqQixFQUFTa0IsRUFBTUMsR0FDM0NWLEVBQW9CVyxFQUFFcEIsRUFBU2tCLElBQ2xDRyxPQUFPQyxlQUFldEIsRUFBU2tCLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVYsRUFBb0JnQixFQUFJLFNBQVN6QixHQUNYLG9CQUFYMEIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFldEIsRUFBUzBCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZXRCLEVBQVMsYUFBYyxDQUFFNEIsT0FBTyxLQVF2RG5CLEVBQW9Cb0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFuQixFQUFvQm1CLElBQy9CLEVBQVBFLEVBQVUsT0FBT0YsRUFDcEIsR0FBVyxFQUFQRSxHQUE4QixpQkFBVkYsR0FBc0JBLEdBQVNBLEVBQU1HLFdBQVksT0FBT0gsRUFDaEYsSUFBSUksRUFBS1gsT0FBT1ksT0FBTyxNQUd2QixHQUZBeEIsRUFBb0JnQixFQUFFTyxHQUN0QlgsT0FBT0MsZUFBZVUsRUFBSSxVQUFXLENBQUVULFlBQVksRUFBTUssTUFBT0EsSUFDdEQsRUFBUEUsR0FBNEIsaUJBQVRGLEVBQW1CLElBQUksSUFBSU0sS0FBT04sRUFBT25CLEVBQW9CUSxFQUFFZSxFQUFJRSxFQUFLLFNBQVNBLEdBQU8sT0FBT04sRUFBTU0sSUFBUUMsS0FBSyxLQUFNRCxJQUM5SSxPQUFPRixHQUlSdkIsRUFBb0IyQixFQUFJLFNBQVNuQyxHQUNoQyxJQUFJa0IsRUFBU2xCLEdBQVVBLEVBQU84QixXQUM3QixXQUF3QixPQUFPOUIsRUFBZ0IsU0FDL0MsV0FBOEIsT0FBT0EsR0FFdEMsT0FEQVEsRUFBb0JRLEVBQUVFLEVBQVEsSUFBS0EsR0FDNUJBLEdBSVJWLEVBQW9CVyxFQUFJLFNBQVNpQixFQUFRQyxHQUFZLE9BQU9qQixPQUFPa0IsVUFBVUMsZUFBZTFCLEtBQUt1QixFQUFRQyxJQUd6RzdCLEVBQW9CZ0MsRUFBSSxHQUlqQmhDLEVBQW9CQSxFQUFvQmlDLEVBQUksRyxpR0NsRnJELEksRUFBQSxHLEVBQUEsTyx1aEJBRUEsSUFBTUMsRUFBVyxDQUNmQyxTQUFVLEtBQ1ZDLFNBQVMsRUFDVEMsVUFBVSxFQUNWQyxPQUFRLE1BQ1JDLEtBQU0sU0FHYUMsRSxXQVVuQixXQUFZQyxJLDRGQUFTLFNBQ25CNUMsS0FBSzRDLFEsK1ZBQUwsSUFBb0JQLEVBQXBCLEdBQWlDTyxJQUNKLElBQXpCNUMsS0FBSzRDLFFBQVFMLFNBQW1CdkMsS0FBSzZDLFEsdURBSXpDN0MsS0FBSzhDLFFBQVE5QyxLQUFLNEMsUUFBUUcsSUFBSy9DLEtBQUs0QyxRQUFRSixZLDhCQU81QyxJQUNNTyxFQURhL0MsS0FBSzRDLFFBQVFGLEtBQUtNLFFBQVEsUUFBVSxFQUM5QmhELEtBQUs0QyxRQUFRRixLQUFPMUMsS0FBSzRDLFFBQVFHLElBQU0vQyxLQUFLNEMsUUFBUUYsS0FFN0UxQyxLQUFLOEMsUUFBUUMsSyw2QkFPYi9DLEtBQUtpRCxNQUFNQyxVLDhCQU1MLElBQ0YzQixFQURFLE9BSUpBLEVBREU0QixNQUFNbkQsS0FBSzRDLFFBQVFOLFVBQ2pCLFVBQU1jLE1BQU1DLEtBQUtyRCxLQUFLNEMsUUFBUU4sVUFFOUIsVUFBTWMsTUFBTUUsUUFBUUMsTUFBTXZELEtBQUs0QyxRQUFRTixVQUFVa0IsU0FFdkR4RCxLQUFLaUQsTUFBUSxVQUFNUSxhQUFZLGtCQUFNLEVBQUtDLFVBQVNuQyxLLDhCQUc3Q3dCLEVBQUtQLEdBQ1gsSUFBTU0sRUFBVSxJQUFJYSxlQUVwQmIsRUFBUWMsbUJBQXFCLFdBQ0EsSUFBdkJkLEVBQVFlLFlBQXVDLE1BQW5CZixFQUFRZ0IsUUFDbEN0QixHQUFVeEMsS0FBS3dDLFNBQVNNLEVBQVFpQixlQUd4Q2pCLEVBQVFrQixLQUFLLE1BQU9qQixHQUFLLEdBQ3pCRCxFQUFRbUIsS0FBSyxXLCtFQ3JFakJ0RSxFQUFPRCxRQUFVTyIsImZpbGUiOiJoZWFsdGhjaGVjay5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCJuby1jb3YtbGF0ZXJcIikpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoXCJoZWFsdGhjaGVja1wiLCBbXCJuby1jb3YtbGF0ZXJcIl0sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiaGVhbHRoY2hlY2tcIl0gPSBmYWN0b3J5KHJlcXVpcmUoXCJuby1jb3YtbGF0ZXJcIikpO1xuXHRlbHNlXG5cdFx0cm9vdFtcImhlYWx0aGNoZWNrXCJdID0gZmFjdG9yeShyb290W1wibGF0ZXJcIl0pO1xufSkodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHRoaXMsIGZ1bmN0aW9uKF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzFfXykge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImltcG9ydCBsYXRlciBmcm9tICduby1jb3YtbGF0ZXInO1xuXG5jb25zdCBkZWZhdWx0cyA9IHtcbiAgaW50ZXJ2YWw6IDM2MDAsXG4gIGF1dG9ydW46IHRydWUsXG4gIGNhbGxiYWNrOiBmYWxzZSxcbiAgbWV0aG9kOiAnR0VUJyxcbiAgZmFpbDogJy9mYWlsJ1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGVhbHRoQ2hlY2sge1xuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHBhcmFtIHtzdHJpbmcsIG51bWJlcn0gb3B0aW9ucy5pbnRlcnZhbCAtIFBpbmcgaW50ZXJ2YWwsIGNhbiBiZSBhIG51bWJlclxuICAgKiBvciBhIFtsYXRlciBzY2hlZHVsZV17QGxpbmsgaHR0cHM6Ly9idW5rYXQuZ2l0aHViLmlvL2xhdGVyL31cbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMudXJsIC0gVGhlIHVybCB0byBiZSBwaW5nZWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmF1dG9ydW5dIC0gU2V0IGl0IHRvIGZhbHNlIHRvIHN0YXJ0IHRoZSBjaGVja3MgbWFudWFsbHlcbiAgICogQGNhbGxiYWNrIG9wdGlvbnMuY2FsbGJhY2tcbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSB7IC4uLmRlZmF1bHRzLCAuLi5vcHRpb25zIH07XG4gICAgaWYgKHRoaXMub3B0aW9ucy5hdXRvcnVuICE9PSBmYWxzZSkgdGhpcy5zdGFydCgpO1xuICB9XG5cbiAgY2hlY2soKSB7XG4gICAgdGhpcy5yZXF1ZXN0KHRoaXMub3B0aW9ucy51cmwsIHRoaXMub3B0aW9ucy5jYWxsYmFjayk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbHMgdGhlIGZhaWwgZW5kcG9pbnQgdG8gcmVwb3J0IGFuIGVycm9yXG4gICAqL1xuICBlcnJvcigpIHtcbiAgICBjb25zdCBpc0Fic29sdXRlID0gdGhpcy5vcHRpb25zLmZhaWwuaW5kZXhPZignOi8vJykgPiAtMTtcbiAgICBjb25zdCB1cmwgPSBpc0Fic29sdXRlID8gdGhpcy5vcHRpb25zLmZhaWwgOiB0aGlzLm9wdGlvbnMudXJsICsgdGhpcy5vcHRpb25zLmZhaWw7XG5cbiAgICB0aGlzLnJlcXVlc3QodXJsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9wcyB0aGUgaGVhbHRoIGNoZWNrIGNhbGxzXG4gICAqL1xuICBzdG9wKCkge1xuICAgIHRoaXMudGltZXIuY2xlYXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydHMgdGhlIGhlYWx0aCBjaGVjayBjYWxsc1xuICAgKi9cbiAgc3RhcnQoKSB7XG4gICAgbGV0IHQ7XG5cbiAgICBpZiAoaXNOYU4odGhpcy5vcHRpb25zLmludGVydmFsKSkge1xuICAgICAgdCA9IGxhdGVyLnBhcnNlLnRleHQodGhpcy5vcHRpb25zLmludGVydmFsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdCA9IGxhdGVyLnBhcnNlLnJlY3VyKCkuZXZlcnkodGhpcy5vcHRpb25zLmludGVydmFsKS5zZWNvbmQoKTtcbiAgICB9XG4gICAgdGhpcy50aW1lciA9IGxhdGVyLnNldEludGVydmFsKCgpID0+IHRoaXMuY2hlY2soKSwgdCk7XG4gIH1cblxuICByZXF1ZXN0KHVybCwgY2FsbGJhY2spIHtcbiAgICBjb25zdCByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICByZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChyZXF1ZXN0LnJlYWR5U3RhdGUgPT09IDQgJiYgcmVxdWVzdC5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICBpZiAoY2FsbGJhY2spIHRoaXMuY2FsbGJhY2socmVxdWVzdC5yZXNwb25zZVRleHQpO1xuICAgICAgfVxuICAgIH07XG4gICAgcmVxdWVzdC5vcGVuKCdHRVQnLCB1cmwsIHRydWUpO1xuICAgIHJlcXVlc3Quc2VuZChudWxsKTtcbiAgfVxufVxuIiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX18xX187Il0sInNvdXJjZVJvb3QiOiIifQ==